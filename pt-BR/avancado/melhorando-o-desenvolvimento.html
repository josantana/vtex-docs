<!DOCTYPE HTML>
<html lang="pt" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>Melhorando o Desenvolvimento | </title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.6.4">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="../gitbook/style.css">
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-search/search.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-fontsettings/website.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-highlight/website.css">
        
    
    

        
    
    
    <link rel="next" href="../avancado/como-funciona-o-ambiente-de-desenvolvimento.html" />
    
    
    <link rel="prev" href="../avancado/ambiente-de-desenvolvimento.html" />
    

        
    </head>
    <body>
        
        
    <div class="book"
        data-level="3.1.1"
        data-chapter-title="Melhorando o Desenvolvimento"
        data-filepath="avancado/melhorando-o-desenvolvimento.md"
        data-basepath=".."
        data-revision="Tue Mar 08 2016 12:42:08 GMT-0300 (BRT)"
        data-innerlanguage="pt-BR">
    

<div class="book-summary">
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                
                        <i class="fa fa-check"></i>
                        
                        Introdução
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="introducao/index.html">
            
                
                    <a href="../introducao/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        Introdução
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1" data-path="introducao/a-plataforma.html">
            
                
                    <a href="../introducao/a-plataforma.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                        A Plataforma
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="introducao/storefront.html">
            
                
                    <a href="../introducao/storefront.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                        Storefront
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="introducao/ecossistema.html">
            
                
                    <a href="../introducao/ecossistema.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.3.</b>
                        
                        Ecossistema
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="introducao/exemplos.html">
            
            <span><b>1.4.</b> Exemplos</span>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2" data-path="primeiros-passos/index.html">
            
                
                    <a href="../primeiros-passos/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        Primeiros Passos
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="primeiros-passos/setup.html">
            
                
                    <a href="../primeiros-passos/setup.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        Setup
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="primeiros-passos/manifest.html">
            
                
                    <a href="../primeiros-passos/manifest.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        Manifest
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="primeiros-passos/package.html">
            
                
                    <a href="../primeiros-passos/package.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                        Package.json
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="primeiros-passos/componente-react.html">
            
                
                    <a href="../primeiros-passos/componente-react.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.4.</b>
                        
                        Componente React
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="primeiros-passos/descritor-de-componente.html">
            
                
                    <a href="../primeiros-passos/descritor-de-componente.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.5.</b>
                        
                        Descritor de Componente
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="primeiros-passos/rota.html">
            
                
                    <a href="../primeiros-passos/rota.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.6.</b>
                        
                        Rota
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.7" data-path="primeiros-passos/root.html">
            
                
                    <a href="../primeiros-passos/root.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.7.</b>
                        
                        Componente Root
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.8" data-path="primeiros-passos/toolbelt.html">
            
                
                    <a href="../primeiros-passos/toolbelt.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.8.</b>
                        
                        Toolbelt
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.9" data-path="primeiros-passos/registro-de-componente.html">
            
                
                    <a href="../primeiros-passos/registro-de-componente.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.9.</b>
                        
                        Registro de Componente
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.10" data-path="primeiros-passos/exemplo-homepage.html">
            
                
                    <a href="../primeiros-passos/exemplo-homepage.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.10.</b>
                        
                        Exemplo: HomePage
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="avancado/index.html">
            
                
                    <a href="../avancado/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        Avançado
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="avancado/ambiente-de-desenvolvimento.html">
            
                
                    <a href="../avancado/ambiente-de-desenvolvimento.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                        Ambiente de desenvolvimento
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="3.1.1" data-path="avancado/melhorando-o-desenvolvimento.html">
            
                
                    <a href="../avancado/melhorando-o-desenvolvimento.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.1.</b>
                        
                        Melhorando o Desenvolvimento
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.1.2" data-path="avancado/como-funciona-o-ambiente-de-desenvolvimento.html">
            
                
                    <a href="../avancado/como-funciona-o-ambiente-de-desenvolvimento.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.2.</b>
                        
                        Como funciona o ambiente de desenvolvimento
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="avancado/criando-uma-nova-pagina.html">
            
                
                    <a href="../avancado/criando-uma-nova-pagina.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                        Criando um nova página
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="avancado/criando-um-editor.html">
            
                
                    <a href="../avancado/criando-um-editor.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.</b>
                        
                        Criando um Editor
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="avancado/ponto-de-extensao.html">
            
                
                    <a href="../avancado/ponto-de-extensao.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.</b>
                        
                        Pontos de extensão
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.4.1" data-path="avancado/placeholders.html">
            
                
                    <a href="../avancado/placeholders.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.1.</b>
                        
                        Placeholders
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.4.2" data-path="avancado/escopo-de-configuracao.html">
            
                
                    <a href="../avancado/escopo-de-configuracao.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.2.</b>
                        
                        Escopo de configuração
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.4.2.1" data-path="avancado/configurado-pelo-usuario.html">
            
                
                    <a href="../avancado/configurado-pelo-usuario.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.2.1.</b>
                        
                        Configurado pelo usuario
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.4.2.2" data-path="avancado/escopo-da-pagina.html">
            
                
                    <a href="../avancado/escopo-da-pagina.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.2.2.</b>
                        
                        Escopo da página
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.4.2.3" data-path="avancado/escopo-global.html">
            
                
                    <a href="../avancado/escopo-global.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.2.3.</b>
                        
                        Escopo global
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.4.3" data-path="avancado/extendendo-uma-app.html">
            
            <span><b>3.4.3.</b> Extendendo uma app</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.4.3.1" data-path="implements.html">
            
            <span><b>3.4.3.1.</b> Implements</span>
            
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="avancado/pegando-dados-do-servidor.html">
            
                
                    <a href="../avancado/pegando-dados-do-servidor.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.5.</b>
                        
                        Pegando Dados do Servidor
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.6" data-path="avancado/salvando-dados-do-servidor.html">
            
            <span><b>3.6.</b> Salvando Dados do Servidor</span>
            
            
        </li>
    
        <li class="chapter " data-level="3.7" data-path="avancado/dependencias-de-apps.html">
            
            <span><b>3.7.</b> Dependências de Apps</span>
            
            
        </li>
    
        <li class="chapter " data-level="3.8" data-path="avancado/publicando-seu-app.html">
            
            <span><b>3.8.</b> Publicando seu App</span>
            
            
        </li>
    
        <li class="chapter " data-level="3.9" data-path="avancado/mantendo-um-app.html">
            
            <span><b>3.9.</b> Mantendo um App</span>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4" data-path="tutoriais/index.html">
            
            <span><b>4.</b> Tutoriais</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1" data-path="tutoriais/criando-um-tema.html">
            
            <span><b>4.1.</b> Criando um App de Tema</span>
            
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="tutoriais/criando-um-app-de-componente.html">
            
            <span><b>4.2.</b> Criando um App de Componente</span>
            
            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="tutoriais/criando-um-admin.html">
            
            <span><b>4.3.</b> Criando um App de Admin</span>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5" data-path="GLOSSARY.html">
            
                
                    <a href="../GLOSSARY.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        Glossário
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6" data-path="solucao-de-problemas.html">
            
                
                    <a href="../solucao-de-problemas.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                        Solução de Problemas
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7" data-path="referencia-da-api/index.html">
            
            <span><b>7.</b> Referência da API</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.1" data-path="referencia-da-api/manifest.json.html">
            
                
                    <a href="../referencia-da-api/manifest.json.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.1.</b>
                        
                        manifest.json
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="referencia-da-api/areas.html">
            
            <span><b>7.2.</b> areas</span>
            
            
        </li>
    
        <li class="chapter " data-level="7.3" data-path="referencia-da-api/assets.html">
            
            <span><b>7.3.</b> assets</span>
            
            
        </li>
    
        <li class="chapter " data-level="7.4" data-path="referencia-da-api/components.html">
            
            <span><b>7.4.</b> components</span>
            
            
        </li>
    
        <li class="chapter " data-level="7.5" data-path="referencia-da-api/resources.html">
            
            <span><b>7.5.</b> resources</span>
            
            
        </li>
    
        <li class="chapter " data-level="7.6" data-path="referencia-da-api/routes.html">
            
            <span><b>7.6.</b> routes</span>
            
            
        </li>
    

            </ul>
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    Publicado com GitBook
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    
    <a href="../GLOSSARY.html" class="btn pull-left" aria-label="Glossário"><i class="fa fa-sort-alpha-asc"></i></a>
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../" ></a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="melhorando-o-processo-de-desenvolvimento">Melhorando o processo de desenvolvimento</h1>
<p>Se voc&#xEA; fez o tutorial <a href="primeiros-passos.md">Primeiros passos</a>, j&#xE1; conhece o fluxo de desenvolvimento b&#xE1;sico do Storefront.</p>
<p>Apesar de funcionar bem, essa forma de desenvolvimento pode se tornar tediosa &#xE0; medida que seu <a href="../GLOSSARY.html#app" class="glossary-term" title="Um app (ou aplicativo) &#xE9; um pacote instal&#xE1;vel que adiciona funcionalidades &#xE0; sua loja e pode ser configurado pelos lojistas. Apps podem ser instalados pela Gallery ou j&#xE1; virem inclu&#xED;dos como depend&#xEA;ncia em outros Apps que voc&#xEA; instale.">app</a> come&#xE7;a a crescer. Arquivos Javascript e CSS come&#xE7;am a se proliferar e escrever React sem JSX n&#xE3;o &#xE9; ideal. Al&#xE9;m disso, nosso c&#xF3;digo n&#xE3;o est&#xE1; minificado e n&#xE3;o estamos usando nenhum pr&#xE9;-processador de CSS, como LESS ou Sass.</p>
<p>Para resolver tudo isso, usamos a ferramenta de build <a href="https://webpack.github.io/" target="_blank">Webpack</a> e uma estrutura de desenvolvimento opinionada que usa ES6 (e at&#xE9; o 7!), eslint, LESS/Sass e react-hot-loader. Em detalhes:</p>
<ul>
<li><p>ES6 &#xE9; a mais recente vers&#xE3;o do Javascript que foi lan&#xE7;ada em 2015, ent&#xE3;o j&#xE1; estamos escrevendo. Muitos browsers ainda n&#xE3;o s&#xE3;o compat&#xED;veis com ES6, mas n&#xE3;o se preocupe! Usamos o Babel, uma ferramenta que transforma o c&#xF3;digo Javascript ES6 para a vers&#xE3;o ES5, compat&#xED;vel com os browsers de hoje.</p>
</li>
<li><p>ESlint &#xE9; uma ferramenta que padroniza como o c&#xF3;digo deve ser escrito.</p>
</li>
<li><p>Voc&#xEA; pode escolher entre LESS e Sass como pr&#xE9;-processador CSS para seus componentes.</p>
</li>
<li><p>O react-hot-loader &#xE9; uma esp&#xE9;cie de livereload avan&#xE7;ado que, ao inv&#xE9;s de recarregar toda a p&#xE1;gina, atualiza apenas o componente React que foi modificado. Isso faz com que o ciclo de desenvolvimento seja <strong>muito</strong> mais r&#xE1;pido.</p>
</li>
<li><p>Por fim, o Webpack agrega todas essas ferramentas e faz todas funcionarem como m&#xE1;gica, al&#xE9;m de minificar imagens, SVGs, Javascript e CSS.</p>
</li>
</ul>
<h2 id="nova-estrutura-de-pastas">Nova estrutura de pastas</h2>
<p>Neste guia vamos apagar toda a estrutura criada no Tutorial b&#xE1;sico e come&#xE7;&#xE1;-la do zero com essa nova estrutura de desenvolvimento.</p>
<p>Apague todos os arquivos da pasta de seu <a href="../GLOSSARY.html#app" class="glossary-term" title="Um app (ou aplicativo) &#xE9; um pacote instal&#xE1;vel que adiciona funcionalidades &#xE0; sua loja e pode ser configurado pelos lojistas. Apps podem ser instalados pela Gallery ou j&#xE1; virem inclu&#xED;dos como depend&#xEA;ncia em outros Apps que voc&#xEA; instale.">app</a>. Abra o terminal na mesma pasta e digite:</p>
<pre><code class="lang-sh">yo vtex:storefront
</code></pre>
<p>Responda o generator com:</p>
<ul>
<li><code>my-first-app</code></li>
<li><code>nome-da-sua-empresa</code></li>
<li><code>yes</code> (ou <code>y</code>)</li>
<li><code>yes</code> (ou <code>y</code>)</li>
</ul>
<p>Voc&#xEA; ver&#xE1; que algumas pastas e arquivos foram criados e as depend&#xEA;ncias do node foram instaladas. Seu <a href="../GLOSSARY.html#app" class="glossary-term" title="Um app (ou aplicativo) &#xE9; um pacote instal&#xE1;vel que adiciona funcionalidades &#xE0; sua loja e pode ser configurado pelos lojistas. Apps podem ser instalados pela Gallery ou j&#xE1; virem inclu&#xED;dos como depend&#xEA;ncia em outros Apps que voc&#xEA; instale.">app</a> agora deve parecer com isso:</p>
<pre><code>.
&#x251C;&#x2500;&#x2500; src/
&#x2502;   &#x251C;&#x2500;&#x2500; assets/
&#x2502;   &#x251C;&#x2500;&#x2500; components/
&#x2502;   &#x251C;&#x2500;&#x2500; editors/
&#x2502;   &#x2514;&#x2500;&#x2500; utils/
&#x251C;&#x2500;&#x2500; storefront/
&#x2502;   &#x251C;&#x2500;&#x2500; assets/
&#x2502;   &#x251C;&#x2500;&#x2500; components/
&#x2502;   &#x251C;&#x2500;&#x2500; routes/
|   &#x251C;&#x2500;&#x2500; settings/
|   |   &#x251C;&#x2500;&#x2500; components/
|   |   &#x2514;&#x2500;&#x2500; routes/
&#x2502;   &#x2514;&#x2500;&#x2500; resources/
&#x251C;&#x2500;&#x2500; .eslintrc
&#x251C;&#x2500;&#x2500; .gitignore
&#x251C;&#x2500;&#x2500; .vtexignore
&#x251C;&#x2500;&#x2500; meta.json
&#x251C;&#x2500;&#x2500; package.json
&#x2514;&#x2500;&#x2500; webpack.config.js
</code></pre><p>Nessa nova estrutura, escreveremos a maior parte do nosso c&#xF3;digo dentro da pasta <code>src/</code>. N&#xE3;o mexeremos mais na pasta <code>storefront/assets/</code>, j&#xE1; que o Webpack se encarregar&#xE1; de colocar os arquivos processados nela.</p>
<h2 id="arquivos-de-desenvolvimento">Arquivos de desenvolvimento</h2>
<h4 id="srcassets">src/assets/</h4>
<p>Aqui ficam todos os assets que n&#xE3;o s&#xE3;o Javascript ou CSS &#x2014; como imagens e SVGs.</p>
<h4 id="srccomponents">src/components/</h4>
<p>Nessa pasta moram todos os componentes React da <a href="../GLOSSARY.html#app" class="glossary-term" title="Um app (ou aplicativo) &#xE9; um pacote instal&#xE1;vel que adiciona funcionalidades &#xE0; sua loja e pode ser configurado pelos lojistas. Apps podem ser instalados pela Gallery ou j&#xE1; virem inclu&#xED;dos como depend&#xEA;ncia em outros Apps que voc&#xEA; instale.">app</a>.</p>
<h4 id="srceditors">src/editors/</h4>
<p>Aqui ficam os componentes que s&#xE3;o usados para criar editores: componentes que formam as interfaces que o administrador da loja ir&#xE1; usar para configurar um componente.</p>
<h4 id="srcutils">src/utils/</h4>
<p>Componentes React utilit&#xE1;rios e outros arquivos Javascript.</p>
<h2 id="arquivos-de-configura&#xE7;&#xE3;o">Arquivos de configura&#xE7;&#xE3;o</h2>
<h4 id="storefrontcomponents">storefront/components/</h4>
<p>Ficam todas os descritores dos componentes, meta-arquivos que indicam como um componente deve ser carregado, onde pode ser carregado e quais s&#xE3;o as suas depend&#xEA;ncias.</p>
<h4 id="storefrontroutes">storefront/routes/</h4>
<p>Nessa pasta est&#xE3;o as configura&#xE7;&#xF5;es de rota: nome da rota e o path relacionado. Por exemplo, podemos dizer que a rota de nome &quot;home&quot; esta associada ao path &quot;/&quot;.</p>
<h4 id="storefrontsettings">storefront/settings/</h4>
<p>Nesta pasta ficam todas as configura&#xE7;&#xF5;es <strong>default</strong> dos componentes da <a href="../GLOSSARY.html#app" class="glossary-term" title="Um app (ou aplicativo) &#xE9; um pacote instal&#xE1;vel que adiciona funcionalidades &#xE0; sua loja e pode ser configurado pelos lojistas. Apps podem ser instalados pela Gallery ou j&#xE1; virem inclu&#xED;dos como depend&#xEA;ncia em outros Apps que voc&#xEA; instale.">app</a>.</p>
<ul>
<li><p><code>storefront/settings/components/</code>: Ficam todas as configura&#xE7;&#xF5;es globais de componentes da <a href="../GLOSSARY.html#app" class="glossary-term" title="Um app (ou aplicativo) &#xE9; um pacote instal&#xE1;vel que adiciona funcionalidades &#xE0; sua loja e pode ser configurado pelos lojistas. Apps podem ser instalados pela Gallery ou j&#xE1; virem inclu&#xED;dos como depend&#xEA;ncia em outros Apps que voc&#xEA; instale.">app</a>. Se quero que Banner@vtex.banner tenha o mesmo comportamento para toda a loja &#xE9; aqui que devo configur&#xE1;-lo.</p>
</li>
<li><p><code>storefront/settings/routes/</code>: Ficam todas as configura&#xE7;&#xF5;es dos componentes de uma p&#xE1;gina. &#xC9; como dizer que para uma p&#xE1;gina espec&#xED;fica o componente possui um set de configura&#xE7;&#xF5;es que podem n&#xE3;o ser iguais ao de outras p&#xE1;ginas.</p>
</li>
</ul>
<h2 id="arquivos-do-projeto">Arquivos do projeto</h2>
<h4 id="eslintrc">.eslintrc</h4>
<p>Arquivo de configura&#xE7;&#xE3;o do eslint.</p>
<h4 id="gitignore">.gitignore</h4>
<p>Arquivo importante caso use git, ferramenta de versionamento de c&#xF3;digo.</p>
<h4 id="vtexignore">.vtexignore</h4>
<p>O <code>.vtexignore</code> impede que arquivos sejam enviados para a Gallery desnecessariamente. Note que a pasta <code>src/</code> est&#xE1; incluida nessa lista, pois esse &#xE9; o c&#xF3;digo fonte n&#xE3;o processado: o que queremos enviar s&#xE3;o apenas os arquivos gerados pelo Webpack, que s&#xE3;o arquivos compilados, minificados e otimizados que v&#xE3;o morar dentro da pasta <code>storefront/assets/</code>.</p>
<p>O <code>.vtexignore</code> usa uma sintaxe id&#xEA;ntica ao <code>.gitignore</code> &#x2014; caso queira saber mais, veja a <a href="https://git-scm.com/docs/gitignore#_pattern_format" target="_blank">documenta&#xE7;&#xE3;o oficial do Git</a>.</p>
<h4 id="packagejson">package.json</h4>
<p>Arquivo necess&#xE1;rio para projetos Javascript que usam o npm, o package manager de Javascript.</p>
<h4 id="webpackconfigjs">webpack.config.js</h4>
<p>Esse arquivo possui todas as configura&#xE7;&#xF5;es do Webpack.</p>
<h2 id="buildando-o-c&#xF3;digo-fonte">Buildando o c&#xF3;digo fonte</h2>
<p>Para fazer o build do projeto vamos usar o Webpack.</p>
<p>Abra o terminal na pasta de seu <a href="../GLOSSARY.html#app" class="glossary-term" title="Um app (ou aplicativo) &#xE9; um pacote instal&#xE1;vel que adiciona funcionalidades &#xE0; sua loja e pode ser configurado pelos lojistas. Apps podem ser instalados pela Gallery ou j&#xE1; virem inclu&#xED;dos como depend&#xEA;ncia em outros Apps que voc&#xEA; instale.">app</a> e rode o webpack (por padr&#xE3;o, ele est&#xE1; dando watch na pasta <code>src/</code>):</p>
<pre><code class="lang-sh">./node_modules/.bin/webpack
</code></pre>
<p>Voc&#xEA; pode ver que quatro arquivos foram criados na pasta <code>storefront/assets/</code>. Todos eles s&#xE3;o c&#xF3;digos Javascript minificados com respectivos <em>source maps</em> (arquivos que facilitam debugar o c&#xF3;digo em ferramentas como o Chrome Developer Tools). Perceba que mesmo tendo arquivos LESS no c&#xF3;digo fonte, nos arquivos gerados existem apenas arquivos Javascript. O Webpack coloca todo o c&#xF3;digo CSS dentro do Javascript para se alavancar do cache do browser. Ele tamb&#xE9;m se encarrega de inserir o CSS no c&#xF3;digo HTML, fazendo com que tudo funcione normalmente.</p>
<p>Agora que temos os arquivos dentro da pasta <code>storefront/assets/</code>, podemos envi&#xE1;-los para a Gallery.</p>
<p>Cancele o processo do webpack ou abra outra aba do terminal e digite:</p>
<pre><code class="lang-sh">vtex watch
</code></pre>
<p>E confira tudo funcionando no browser.</p>
<h2 id="toolbelt-ao-resgate">Toolbelt ao resgate</h2>
<p>Ganhamos a facilidade de escrever em ES6, JSX, LESS, minificar, etc, mas agora temos dois processos rodando, o watch do Toolbelt e o Webpack. Pensando em facilitar ainda mais o desenvolvimento, o Toobelt possui uma op&#xE7;&#xE3;o para quem usa Webpack.</p>
<p>Abra o terminal na pasta de seu <a href="../GLOSSARY.html#app" class="glossary-term" title="Um app (ou aplicativo) &#xE9; um pacote instal&#xE1;vel que adiciona funcionalidades &#xE0; sua loja e pode ser configurado pelos lojistas. Apps podem ser instalados pela Gallery ou j&#xE1; virem inclu&#xED;dos como depend&#xEA;ncia em outros Apps que voc&#xEA; instale.">app</a> e digite:</p>
<pre><code class="lang-sh">vtex watch --webpack
</code></pre>
<p>Dessa forma, o Toolbelt se encarrega de rodar o Webpack e fazer o upload dos arquivos.</p>
<h2 id="mais-r&#xE1;pido-mais-r&#xE1;pido">Mais r&#xE1;pido! Mais r&#xE1;pido!</h2>
<p>Ainda n&#xE3;o estamos r&#xE1;pidos o suficiente, vamos usar um dos grandes diferenciais do combo Webpack+React, o hot-loader.</p>
<p>Pare o Toolbelt que est&#xE1; rodando e ligue-o novamente com a flag <code>--server</code> (ou <code>-s</code>):</p>
<pre><code>vtex watch --server
</code></pre><p>Essa op&#xE7;&#xE3;o liga um servidor local, o Webpack Dev Server, que permite utilizar o hot-loader. Normalmente quando desenvolvemos em servidores locais acessamos URLs como <code>http://localhost:3000/</code>, no nosso caso, vamos usar a URL que Toolbelt disponibiliza para n&#xF3;s no terminal.</p>
<p>Fa&#xE7;a uma altera&#xE7;&#xE3;o no componente <code>HomePage.js</code> ou em um arquivo CSS e veja as mudan&#xE7;as aplicadas sem dar reload na p&#xE1;gina.</p>
<hr>
<h3 id="recaptulando">Recaptulando</h3>
<p>Voc&#xEA; completou o &quot;Melhorando o processo de desenvolvimento&quot;! Agora estamos desenvolvendo de forma eficiente e produtiva.</p>
<hr>
<h3 id="pr&#xF3;ximos-passos">Pr&#xF3;ximos passos</h3>
<p>Antes de colocar a m&#xE3;o na massa vamos entender um pouco melhor <a href="como-funciona-o-ambiente-de-desenvolvimento.html">como o ambiente de desenvolvimento funciona</a>.</p>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../avancado/ambiente-de-desenvolvimento.html" class="navigation navigation-prev " aria-label="Previous page: Ambiente de desenvolvimento"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../avancado/como-funciona-o-ambiente-de-desenvolvimento.html" class="navigation navigation-next " aria-label="Next page: Como funciona o ambiente de desenvolvimento"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../gitbook/app.js"></script>

    
    <script src="../gitbook/plugins/gitbook-plugin-search/lunr.min.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-search/search.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-sharing/buttons.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-fontsettings/buttons.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"edit-link":{"base":"https://github.com/vtex-apps/docs/tree/master/","label":"Edit This Page"},"search":{"maxIndexSize":1000000},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
